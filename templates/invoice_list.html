{% extends "base.html" %}
{% block content %}

<h2>Invoices</h2>

<div class="actions" style="margin-bottom:10px">
  <!-- Quick-create by GET -->
  <a class="icon-btn" href="{{ url_for('invoices.invoice_new_quick') }}" title="New Invoice">
    <!-- simple plus icon -->
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 8v8M8 12h8"></path>
    </svg>
  </a>

  <!-- Or go to form create page (GET) -->
  <a class="icon-btn" href="{{ url_for('invoices.create_invoice') }}" title="Create via Form">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
      <rect x="4" y="4" width="16" height="16" rx="2"></rect>
      <path d="M8 8h8M8 12h8M8 16h5"></path>
    </svg>
  </a>
</div>

<table class="table">
  <tr>
    <th>ID</th>
    <th>Customer</th>
    <th>Phone</th>
    <th>Notes</th>
    <th>Actions</th>
  </tr>
  {% for r in invoices %}
  <tr>
    <td>{{ r.id }}</td>
    <td>{{ r.customer_name or '' }}</td>
    <td>{{ r.customer_phone or '' }}</td>
    <td>{{ r.notes or '' }}</td>
    <td>
      <a class="icon-btn" href="{{ url_for('invoices.invoice_detail', invoice_id=r.id) }}" title="Open">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
          <path d="M8 12h8M12 8v8"></path>
          <rect x="3" y="3" width="18" height="18" rx="2"></rect>
        </svg>
      </a>

      <form method="post" action="{{ url_for('invoices.delete_invoice', invoice_id=r.id) }}" style="display:inline">
        <button class="icon-btn" onclick="return confirm('Delete this invoice?')" title="Delete">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
            <path d="M3 6h18"></path>
            <path d="M8 6v-2h8v2"></path>
            <rect x="6" y="6" width="12" height="14" rx="1"></rect>
          </svg>
        </button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

{% endblock %}
